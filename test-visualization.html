<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AIReady Visualization</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: #0f172a;
      color: #e2e8f0;
    }
    #root {
      width: 100vw;
      height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-direction: column;
      gap: 2rem;
    }
    h1 {
      font-size: 2rem;
      background: linear-gradient(to right, #60a5fa, #a78bfa);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
    .stats {
      display: flex;
      gap: 2rem;
      font-size: 1rem;
    }
    .stat {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 0.5rem;
    }
    .stat-value {
      font-size: 2rem;
      font-weight: bold;
      color: #60a5fa;
    }
    .stat-label {
      font-size: 0.875rem;
      color: #94a3b8;
    }
    .message {
      text-align: center;
      max-width: 600px;
      line-height: 1.6;
      color: #cbd5e1;
    }
    canvas {
      border: 1px solid #1e293b;
      border-radius: 8px;
      background: #1e293b;
    }
  </style>
</head>
<body>
  <div id="root">
    <h1>ðŸŽ¯ AIReady Visualization</h1>
    <div class="stats">
      <div class="stat">
        <div class="stat-value">3</div>
        <div class="stat-label">Files</div>
      </div>
      <div class="stat">
        <div class="stat-value">3</div>
        <div class="stat-label">Dependencies</div>
      </div>
      <div class="stat">
        <div class="stat-value">1</div>
        <div class="stat-label">Components</div>
      </div>
      <div class="stat">
        <div class="stat-value">0</div>
        <div class="stat-label">Circular Deps</div>
      </div>
    </div>
    <canvas id="canvas" width="1200" height="700"></canvas>
    <div class="message">
      <p><strong>Interactive visualization coming soon!</strong></p>
      <p>This is a placeholder. The React + d3-force frontend will be integrated next.</p>
    </div>
  </div>
  
  <script>
    // Embedded graph data
    const graphData = {
  "nodes": [
    {
      "id": "src/index.ts",
      "label": "index.ts",
      "type": "file",
      "metrics": {
        "tokenCost": 2000,
        "linesOfCode": 150,
        "dependencies": 3,
        "imports": 5,
        "exports": 2,
        "duplicatePatterns": 0,
        "cohesionScore": 1,
        "fragmentationScore": 0
      },
      "extension": ".ts",
      "relativePath": "src/index.ts",
      "domain": "src",
      "clusterId": "cluster-src"
    },
    {
      "id": "src/utils/helper.ts",
      "label": "helper.ts",
      "type": "file",
      "metrics": {
        "tokenCost": 1000,
        "linesOfCode": 80,
        "dependencies": 1,
        "imports": 2,
        "exports": 4,
        "duplicatePatterns": 0,
        "cohesionScore": 1,
        "fragmentationScore": 0
      },
      "extension": ".ts",
      "relativePath": "src/utils/helper.ts",
      "domain": "src",
      "clusterId": "cluster-src"
    },
    {
      "id": "src/components/App.tsx",
      "label": "App.tsx",
      "type": "file",
      "metrics": {
        "tokenCost": 3000,
        "linesOfCode": 200,
        "dependencies": 5,
        "imports": 8,
        "exports": 1,
        "duplicatePatterns": 2,
        "cohesionScore": 1,
        "fragmentationScore": 0
      },
      "extension": ".tsx",
      "relativePath": "src/components/App.tsx",
      "domain": "src",
      "clusterId": "cluster-src"
    }
  ],
  "edges": [
    {
      "source": "src/index.ts",
      "target": "src/components/App.tsx",
      "type": "import",
      "weight": 1
    },
    {
      "source": "src/index.ts",
      "target": "src/utils/helper.ts",
      "type": "import",
      "weight": 2
    },
    {
      "source": "src/components/App.tsx",
      "target": "src/utils/helper.ts",
      "type": "import",
      "weight": 3
    }
  ],
  "clusters": [
    {
      "id": "cluster-src",
      "domain": "src",
      "nodes": [
        "src/index.ts",
        "src/utils/helper.ts",
        "src/components/App.tsx"
      ],
      "metrics": {
        "totalTokens": 6000,
        "avgCohesion": 1,
        "fragmentationScore": 0
      }
    }
  ],
  "metadata": {
    "totalNodes": 3,
    "totalEdges": 3,
    "avgDegree": 2,
    "density": 1,
    "connectedComponents": 1,
    "circularDependencies": [],
    "generatedAt": "2026-02-09T00:31:04.737Z",
    "rootDir": "/Users/pengcao/projects/aiready/packages/visualizer"
  }
};
    
    // Simple canvas rendering for now
    const canvas = document.getElementById('canvas');
    const ctx = canvas.getContext('2d');
    
    // Simple force simulation (placeholder)
    const nodes = graphData.nodes.map((node, i) => ({
      ...node,
      x: 600 + Math.cos(i / graphData.nodes.length * Math.PI * 2) * 200,
      y: 350 + Math.sin(i / graphData.nodes.length * Math.PI * 2) * 200,
      vx: 0,
      vy: 0
    }));
    
    function draw() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      
      // Draw edges
      ctx.strokeStyle = '#334155';
      ctx.lineWidth = 1;
      graphData.edges.forEach(edge => {
        const source = nodes.find(n => n.id === edge.source);
        const target = nodes.find(n => n.id === edge.target);
        if (source && target) {
          ctx.beginPath();
          ctx.moveTo(source.x, source.y);
          ctx.lineTo(target.x, target.y);
          ctx.stroke();
        }
      });
      
      // Draw nodes
      nodes.forEach(node => {
        const radius = 8 + (node.metrics.tokenCost / 500);
        
        // Node circle
        ctx.beginPath();
        ctx.arc(node.x, node.y, radius, 0, Math.PI * 2);
        ctx.fillStyle = node.issues?.severity === 'critical' ? '#ef4444' :
                         node.issues?.severity === 'major' ? '#f59e0b' :
                         node.issues?.severity === 'minor' ? '#eab308' :
                         '#60a5fa';
        ctx.fill();
        
        // Label
        ctx.fillStyle = '#e2e8f0';
        ctx.font = '10px sans-serif';
        ctx.textAlign = 'center';
        ctx.fillText(node.label, node.x, node.y + radius + 12);
      });
    }
    
    draw();
    
    console.log('Graph data:', graphData);
  </script>
</body>
</html>